# Символы, строки и работа с ними в JavaScript

Прямая речь, слова обращённые к пользователю, информация на сайте, заголовки статей, подписи к фотографиям — это всё в
программировании называется строками — string.

JavaScript является в первую очередь языком фронтенда, той частью нашего веб-приложения, которую видит пользователь. По
этому можно уверенно утверждать, что строки или string являются самой важной частью при изучении. Абсолютно всё крутится
вокруг них, абсолютно везде мы работаем с текстом.

Даже данные между частями одной программы или между разными приложениями могут или даже передаются текстом. Практика
показывает пользовательские данные - это простой текст. Даже если он при заполнении анкеты пишет свой год рождения.
Потому что "1984" и 1984 для компьютера не всегда одно и тоже.

Мы будем всё время заняты манипуляцией данных и превращать ~~воду в вино, а вино в воду~~ один тип данных в другой и
наоборот. Давайте начнём с примеров.

Для создания строковой переменной мы должны задекларировать переменную и инициализировать её литералом в кавычках.
Литерал это умное слово у программистов, когда они хотят показаться умнее чем есть на самом деле. Обозначает он просто
значение, то есть для **let a = 10;** 10 - литерал.

```js
let firstName = "Erik";
let secondName = "Musterman";
```

В нашем случае литералы Ерик и Мустерман.

Кавычки для строковых литералов могут быть двойными **"**, одинарными **'** или обратными **`**. Обратные интересны тем,
что позволяют создавать многострочные строки.

```js
let magicSentence = `Многострочная строка - это не просто достижение!
А прорыв в компьютерной разработке третьего тысячелетия!`
```

Раньше, во времена царя Гороха, мы должны были использовать специальные символы из таблицы секретных символов:

```code
\b  Backspace (Курсор двигается на одно место влево)
\n  Newline (Новая строчка)
\f  Newpage (Новая страница)
\r  Carriage return (Курсор становится на первое место в строчке, возврат каретки)
\t  Горизонтальный табулятор
\"  Двойная кавычка
\'  Одинарная кавычка
\\  Backslash(вызов обратного слэша)
\___  Символы с октальным значением от 000 до 377, например \304 соответствует символу Ä
\u___  Вызов символа уникода (Unicode-16). Где например \u00C4 соответствует Ä
```

И новая строчка вызвалась с помощью **\n**:

```js
let oldGoodAge = "Попытка сделать \n новую строку";
```

Обратные кавычки с ECMA2015 позволяют экранировать переменные;

```js
let message = `Пользователь ${username} немедленно прекратите ${action}!`;
let direction = `Наряду с экранирарованием ${secondName} переменных`;
```

## Считывание данных

Мы говорим о JS и o HTML. И пока эти части у нас не особо связаны. В какой-то момент нам всё равно придётся делать
шпагат в знаниях, почему бы не сделать его и сейчас. Давайте считаем и запишем данные в и из HTML-файла.

```HTML

<body>
	<h1>1</h1>
	<p>Попытка работы с текстом в браузере, кликни на кнопку <span>"HELLO WORLD"</span>.</p>
	
	<button onclick="writeDataWithTagID()">Read by TagName</button>
	<p id="demo"></p>
```

И сам JS-файл

```JS
function readDataFromTagNameWithArray() {
// let str = "HELLO WORLD";
    let tagSpan = document.getElementsByTagName("span");
// let input = document.getElementById("main-article")
    let str = tagSpan[0].innerHTML;
    console.log(str);
// let res = str.charAt(str.length - 2);
    return str;
}

function writeDataWithTagID() {
    let input = readDataFromTagNameWithArray();
    let output = document.getElementById("demo");
// output.innerHTML = input.substr(2);
    output.innerHTML = input;
}
```

Полученные данные из одного места мы можем передавать в другое место. Примером может служить банковское приложение с
данными перевода от одного лица другому. Или Калькулятор расчёта курса валют. Заполнение анкеты на сайте знакомств, где
данные хранятся в реляционной базе данных.

И данные обычно проходят обработку. Если мы говорим о строках, то они могут быть загрязнены и нуждаются в очистке.
Например, удаление лишних пробелов и точек.

Давайте попробуем что-то с данными сделать.

### length

Что бы мы не делали со строкой и какая бы она не была мы всегда знаем её длину:

```JS
let str = "Hello world!";
let strLength = str.length;
```

Длина может быть нулевой, но не может быть отрицательной и она есть всегда.

### charAt()

Кроме того, мы можем узнать всегда какой символ стоит на определённом месте.

```JS
let input = "Andrej";
let myCHar = input.charAt(0);
```

### indexOf()

indexOf() помогает найти первое вхождение искомой строки. Строка может состоять из одного символа или нескольких(
секвенция).

```JS
let input = "Andrej";
let myChar = "Andrej".indexOf("n");
console.log(myChar)
```

### lastIndexOf()

Этот метод помогает найти последнее вхождение. И работает также как и indexOf(). Они братья.

### substring

Мы можем создать строку из имеющейся, взяв её часть.

```JS
let str = "Hello world!";
let res = str.substring(1, 4);
// или
let res = str.substring(str.length - 1);
// Василий

```

### slice()

```JS
let str1 = 'Приближается утро.';
let str2 = str1.slice(1, 8);
let str3 = str1.slice(4, -2);
let str4 = str1.slice(12);
let str5 = str1.slice(30);

console.log(str2); // ВЫВОД: риближа
console.log(str3); // ВЫВОД: лижается утр
console.log(str4); // ВЫВОД:  утро.
console.log(str5); // ВЫВОД: ""
```

### substr

```JS
var str2 = 'абвгдеёжзи';

console.log('(1, 2): '   + str.substr(1, 2));   // '(1, 2): бв'
console.log('(-3, 2): '  + str.substr(-3, 2));  // '(-3, 2): жз'
console.log('(-3): '     + str.substr(-3));     // '(-3): жзи'
console.log('(1): '      + str.substr(1));      // '(1): бвгдеёжзи'
console.log('(-20, 2): ' + str.substr(-20, 2)); // '(-20, 2): аб'
console.log('(20, 2): '  + str.substr(20, 2));  // '(20, 2): '
```

```JS

```
### concat()

Соединяет две строки.

```JS
let hello = 'Привет, ';
console.log(hello.concat('Кевин', ', удачного дня.'));

/* Привет, Кевин, удачного дня. */
```

### trim()
```JS

```
### toLowerCase()
```JS

```
### toUpperCase()
```JS

```

### codePointAt()

```JS
'ABC'.codePointAt(1);          // 66
'\uD800\uDC00'.codePointAt(0); // 65536

'XYZ'.codePointAt(42); // undefined
```

### charCodeAt()

```JS
'ABC'.charCodeAt(0); // вернёт 65
```

## Символы Unicode

Давайте вернёмся к секретным символам. Надо понимать, что все буквы, иероглифы и символы хранятся в одной огромной
таблице. В которой несколько десятков тысяч символов. У каждого символа своя полочка. Каждая полочка пронумерована. И по
этому номеру её можно вызвать. Номер буквы у нас записан в юникоде.

Когда во фронтенде говорят об уникоде, то чаще всего речь ведут о UTF-8. Это рекомендуемая кодировка в HTML-5. Однако
проблема с кодировками несколько обширнее, чем UTF-8 и если мы говорим о кодировке символов в JS, то у нас есть
воспользоваться UTF-16. Не путайте юникод с мнемоническими символами.

## Дополнительные ссылки

1. [Полная таблица UTF-16](https://asecuritysite.com/coding/asc2)
2. [UTF-8 encoding table and Unicode characters](https://unicode-table.com/ru/)
3. [Строки в документации ECMAScript 2020/11](https://262.ecma-international.org/11.0/#sec-terms-and-definitions-string-value)
   и не только это.
4. [Мнемоники в HTML](https://ru.wikipedia.org/wiki/%D0%9C%D0%BD%D0%B5%D0%BC%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8_%D0%B2_HTML)

## Домашнее задание

Найдите самостоятельно статьи на тему:

- Что такое юникод и/или UTF?
- Что такое ASCII?


